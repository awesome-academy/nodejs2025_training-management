doctype html
html(lang="vi")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title Hệ thống Đào tạo
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css", rel="stylesheet")
    link(href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css", rel="stylesheet")
    style.
      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background-color: #f8f9fa;
        color: #333;
      }
      .header {
        background: white;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        padding: 1rem 0;
        position: sticky;
        top: 0;
        z-index: 1000;
      }
      .nav-menu {
        display: flex;
        align-items: center;
        gap: 2rem;
      }
      .nav-link {
        color: #333;
        text-decoration: none;
        font-weight: 500;
        transition: color 0.2s;
      }
      .nav-link:hover {
        color: #4a90e2;
      }
      .user-menu {
        display: flex;
        align-items: center;
        gap: 1rem;
      }
      .user-avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        object-fit: cover;
      }
      .main-content {
        min-height: calc(100vh - 72px);
        padding: 2rem 0;
      }
      .footer {
        background: white;
        padding: 2rem 0;
        margin-top: 2rem;
        border-top: 1px solid #eee;
      }

      /* Login/User menu styles */
      .login-text {
        display: block !important;
      }
      .user-info {
        display: none !important;
      }
      body.logged-in .login-text {
        display: none !important;
      }
      body.logged-in .user-info {
        display: flex !important;
      }

      /* Toast Notification System */
      .toast-container {
        position: fixed;
        top: 1rem;
        right: 1rem;
        z-index: 9999;
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }

      .toast {
        min-width: 300px;
        padding: 1rem;
        border-radius: 8px;
        background: white;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        display: flex;
        align-items: center;
        gap: 0.75rem;
        transform: translateX(120%);
        transition: transform 0.3s ease;
        animation: slideIn 0.3s ease forwards;
      }

      .toast.success {
        border-left: 4px solid #48bb78;
      }

      .toast.error {
        border-left: 4px solid #e53e3e;
      }

      .toast.warning {
        border-left: 4px solid #ed8936;
      }

      .toast.info {
        border-left: 4px solid #4299e1;
      }

      .toast-icon {
        font-size: 1.25rem;
      }

      .toast.success .toast-icon {
        color: #48bb78;
      }

      .toast.error .toast-icon {
        color: #e53e3e;
      }

      .toast.warning .toast-icon {
        color: #ed8936;
      }

      .toast.info .toast-icon {
        color: #4299e1;
      }

      .toast-content {
        flex: 1;
        z-index: 1000;
      }

      .toast-title {
        font-weight: 600;
        margin-bottom: 0.25rem;
        color: #2d3748;
      }

      .toast-message {
        color: #718096;
        font-size: 0.875rem;
      }

      .toast-close {
        color: #a0aec0;
        cursor: pointer;
        padding: 0.25rem;
        transition: color 0.2s ease;
      }

      .toast-close:hover {
        color: #4a5568;
      }

      @keyframes slideIn {
        from {
          transform: translateX(120%);
        }
        to {
          transform: translateX(0);
        }
      }

      @keyframes slideOut {
        from {
          transform: translateX(0);
        }
        to {
          transform: translateX(120%);
        }
      }

      .toast.hide {
        animation: slideOut 0.3s ease forwards;
      }

    block styles
  body
    if !isAuthPage
      header.header
        .container
          .d-flex.justify-content-between.align-items-center
            .nav-menu
              a.nav-link(href="/views/home") Trang chủ
              a.nav-link(href="/views/my-courses") Khóa học của tôi
            .user-menu
              a.nav-link.login-text(href="/views/auth") Đăng nhập
              .user-info
                img.user-avatar(src="https://i.pravatar.cc/150?img=1", alt="User Avatar")

    main.main-content
      block content

    if !isAuthPage
      footer.footer
        .container
          .row
            .col-md-4
              h5 Về chúng tôi
              p Hệ thống đào tạo trực tuyến chất lượng cao, giúp bạn nâng cao kỹ năng và kiến thức.
            .col-md-4
              h5 Liên kết
              ul.list-unstyled
                li: a.nav-link(href="/views/home") Trang chủ
            .col-md-4
              h5 Liên hệ
              ul.list-unstyled
                li: i.fas.fa-envelope  contact@example.com
                li: i.fas.fa-phone  +84 123 456 789
                li: i.fas.fa-map-marker-alt  123 Đường ABC, Quận XYZ, TP.HCM

    script(src="https://code.jquery.com/jquery-3.6.0.min.js")
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js")
    block scripts

    .toast-container#toastContainer
    script(src="/js/trainee/layout.js" defer)
    block scripts
